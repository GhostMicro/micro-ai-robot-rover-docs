# ЁЯза Module: Header (р╕лр╕нр╕Др╕нр╕вр╕кр╕╖р╣Ир╕нр╕кр╕▓р╕гр╣Бр╕ер╕░р╕кр╕бр╕нр╕Зр╕лр╕ер╕▒р╕Б)

р╣Вр╕бр╕Фр╕╣р╕ер╕Щр╕╡р╣Йр╕Чр╕│р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щ "р╕Хр╕▒р╕зр╕Бр╕ер╕▓р╕З" (Communicator) р╣Бр╕ер╕░ "р╕Ьр╕╣р╣Йр╕Хр╕▒р╕Фр╕кр╕┤р╕Щр╣Гр╕И" (Decision Maker) р╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ Ghost Micro

## ЁЯОп р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в (Objectives)
- р╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б Transmitter (р╕Ьр╣Ир╕▓р╕Щ ESP-NOW) р╣Бр╕ер╕░ Dashboard (р╕Ьр╣Ир╕▓р╕Щ WebSocket)
- р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Хр╕гр╕гр╕Бр╕░р╕гр╕░р╕Фр╕▒р╕Ър╕кр╕╣р╕З (Higher-Level Logic) р╣Ар╕Кр╣Ир╕Щ р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕Чр╕┤р╕ир╕Чр╕▓р╕Зр╕лр╕гр╕╖р╕н Mission Path
- р╕кр╣Ир╕Зр╕Хр╣Ир╕нр╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Др╕Ыр╕вр╕▒р╕Зр╕кр╣Ир╕зр╕Щ Body via Serial

## ЁЯЫая╕П Hardware Requirements
- **MCU 1:** ESP32 (Communication Bridge)
- **Integrated Sensors:**
    - **LDR / Light Sensor:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕кр╕зр╣Ир╕▓р╕Зр╕Вр╕нр╕Зр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣И (р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕▒р╣Ир╕Зр╣Ар╕Ыр╕┤р╕Фр╣Др╕Яр╣Гр╕лр╣Й Body)
    - **Sound Sensor (Digital/Analog):** р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Ар╕кр╕╡р╕вр╕Зр╕Ьр╕┤р╕Фр╕Ыр╕Бр╕Хр╕┤р╕лр╕гр╕╖р╕н SOS (р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕▒р╣Ир╕Зр╣Ар╕Ыр╕┤р╕Ф SOS р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ар╕▓р╕Ю)
- **Intelligence Role:** р╣Ар╕Ыр╣Зр╕Щ "р╕лр╕Щр╣Ир╕зр╕вр╕Хр╕▒р╕Фр╕кр╕┤р╕Щр╣Гр╕Ир╕Бр╕ер╕▓р╕З" (Central Intelligence)
    - р╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╣Ар╕кр╕╡р╕вр╕З/р╣Бр╕кр╕З -> р╕кр╕▒р╣Ир╕Зр╣Ар╕Ыр╕┤р╕Фр╣Др╕Я Body
    - р╕Хр╕гр╕зр╕Ир╕Юр╕Ър╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ур╣Мр╕Ьр╕┤р╕Фр╕Ыр╕Бр╕Хр╕┤ -> р╕кр╕▒р╣Ир╕З ESP32-CAM р╣Гр╕лр╣Йр╣Ар╕гр╕┤р╣Ир╕бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ер╕З SD Card
- **Expansion Port:** 8-pin Header р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕кр╕╡р╕вр╕Ъ AI Modules

## ЁЯУб Communication Rules
- **Inbound:** ESP-NOW (р╕Ир╕▓р╕Б Transmitter), WiFi (р╕Ир╕▓р╕Б GCS)
- **Inter-chip:** UART (ESP32 <-> STM32) @ 115200 bps
- **Outbound:** UART (STM32 -> Nano Body) @ 57600 bps

## ЁЯУН Reserved Pins (STM32F103)
| Function | STM32 Pin | Note |
| :--- | :--- | :--- |
| **UART1 (Bridge)** | PA9 (TX), PA10 (RX) | р╕Др╕╕р╕вр╕Бр╕▒р╕Ъ ESP32 |
| **UART2 (Body)** | PA2 (TX), PA3 (RX) | р╕Др╕╕р╕вр╕Бр╕▒р╕Ъ Arduino Nano |
| **Light Sensor (LDR)** | PA0 (ADC) | р╕зр╕▒р╕Фр╕Др╕зр╕▓р╕бр╣Ар╕Вр╣Йр╕бр╣Бр╕кр╕З |
| **Sound Sensor** | PA1 (ADC/Digital) | р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Ар╕кр╕╡р╕вр╕Зр╕Ьр╕┤р╕Фр╕Ыр╕Бр╕Хр╕┤ |
| **I2C Bus** | PB6 (SCL), PB7 (SDA) | р╕кр╕│р╕лр╕гр╕▒р╕Ъ Upgrade Modules |
| **Status LED** | PC13 | р╕кр╕│р╕лр╕гр╕▒р╕Ъ Debug |

---

> [!IMPORTANT]
> р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Щр╕▒р╕Бр╕Юр╕▒р╕Тр╕Щр╕▓: р╕кр╣Ир╕зр╕Щр╕Щр╕╡р╣Йр╕Др╕╖р╕нр╕лр╕▒р╕зр╣Гр╕Ир╕Вр╕нр╕Зр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е р╕лр╣Йр╕▓р╕бр╣Гр╕кр╣И Code р╕Чр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щ Blocking (р╣Ар╕Кр╣Ир╕Щ `delay`) р╣Ар╕Фр╣Зр╕Фр╕Вр╕▓р╕Фр╕Др╕гр╕▒р╕Ъ р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕▒р╕Бр╕йр╕▓р╕Др╕зр╕▓р╕бр╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е Telemetry
